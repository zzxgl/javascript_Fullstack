<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
  <script>
    var arr = [1,[2]]
    var farr = [].concat(arr[0]).concat(arr[1])
    console.log(farr)
    // [1,[2,[3,4]]] => [1,2,[3,4]]
    // [1,2,[3,4]] => [1,2,3,4]
    function flattenArr(arr) {
      var result = []

      for (let i =0; i<arr.length;i++) {
        if (Array.isArray(arr[i])) {
          result = result.concat(flattenArr(arr[i]))
        } else {
          result.push(arr[i])
        }
      }
      return result
    }
    console.log(flattenArr([1,[2,[3,4]]]))
  
    // reduce, map, filter
    function flattenArr1(arr) {
      return arr.reduce((pre, next) => {
        console.log('pre:',pre, 'next:',next)
        if(Array.isArray(next)) {
          return pre.concat(flattenArr1(next))
        } else {
          pre.push(next)
          return pre
        }
      },[])
    }
    console.log(flattenArr1([1,[2,[3,4]]]))
    // reduce 累加器
    let arr3 = [1,2,3,4,5,6]
    console.log(arr3.reduce((pre,next) => pre+next))
    </script>
</body>
</html>