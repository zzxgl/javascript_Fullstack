<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
   <script>
    function Person(name){
      this.age = 30
      this.name =name
    }
    Person.prototype.say = () => {
      console.log('say')
    }
    var s = new Person()
    console.log(s)
    
    // 参数不确定 ...args
    function myNew(constructor,...args) {
      // 1
      let obj = {}
      //  2  传参 ret=对象执行完的返回值
      let ret = constructor.apply(obj,args)
      //  3
    //   obj.prototype = new Person()
      obj.__proto__ = constructor.prototype
      // 4 注意构造函数的返回值
      return typeof ret === 'object' ?  ret : obj
    }
    
    var s1 = myNew(Person,18)
    console.log(s1)

    // var obj ={}
    // Person.call(obj)
    // obj.__proto__ = Person.prototype
    // console.log(obj)0
   </script> 
</body>
</html>